<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title></title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="apple-touch-icon" href="apple-touch-icon.png">
		<!-- inject:css -->
		<link rel="stylesheet" href="styles/bootstrap.min.css">
		<!-- endinject -->

		<!-- main user styles -->
		<link rel="stylesheet" href="styles/styles.css">
	</head>

	<body>
		<!-- inject:svg -->
		<svg xmlns="http://www.w3.org/2000/svg" class="hide"><symbol id="github" viewBox="0 0 33.833 32.916"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.96.537C7.965.537.67 7.83.67 16.827c0 7.197 4.668 13.303 11.142 15.457.814.15 1.112-.354 1.112-.785 0-.388-.014-1.412-.022-2.772-4.53.984-5.487-2.184-5.487-2.184-.74-1.882-1.81-2.383-1.81-2.383-1.478-1.01.113-.99.113-.99 1.635.116 2.495 1.68 2.495 1.68 1.453 2.49 3.813 1.77 4.74 1.354.15-1.053.57-1.77 1.035-2.178-3.617-.41-7.42-1.81-7.42-8.05 0-1.78.635-3.233 1.677-4.372-.167-.412-.727-2.068.16-4.31 0 0 1.368-.44 4.48 1.67 1.298-.362 2.692-.543 4.077-.55 1.383.007 2.777.188 4.078.55 3.11-2.11 4.475-1.67 4.475-1.67.89 2.242.33 3.898.162 4.31 1.044 1.14 1.674 2.593 1.674 4.37 0 6.26-3.808 7.636-7.437 8.04.585.502 1.106 1.496 1.106 3.016 0 2.178-.02 3.935-.02 4.47 0 .435.292.94 1.12.782 6.466-2.158 11.13-8.26 11.13-15.454 0-8.998-7.293-16.29-16.29-16.29z"/></symbol></svg>
		<!-- endinject -->
		<header>
		</header>

		<main>
		
			<div id="app">
				
				<search-component :results="searchResults">
				</search-component>
			
				<tasks-component :list="tasks">
				</tasks-component>
				
			</div> <!-- end app -->
	
			<!-- tbd replace w/ vueify or similar -->
			<template id="search-template">
				<div class="form-group">
					<p v-if="loading">Loading...</p>
					<input type="text" class="form-control" placeholder="search media" 
					v-model="query" 
					@keyup.prevent="progress | debounce 500" 
					@keyup.esc="clear" 
					>
				</div>
				<div class="search-results" 
					v-show="results.length"
				>
					<p>Results:</p>
					<ul class="list-group">
						<li class="list-group-item" 
							v-for="result in results"
							@click.prevent="addMedia( result )"
						>
						{{ result.title }} 
						</li>
					</ul>
				</div>
				<pre>{{ $data | json }}</pre>
			</template>
			
			<template id="tasks-template">
				<form class="form-inline">
					<div class="form-group">
						<input type="text" class="form-control" placeholder="Add media directly" 
							v-model="newTask" 
							@keyup.enter.prevent="addTask" 
						>
						<button class="btn btn-default task-submit-new" 
							v-if="newTask" 
							@click.prevent="addTask"
						>Submit</button>
					</div>
				</form>
	
				<div class="tasks-list"
					v-show="list.length"
				>
					<p v-show="!list.length" class="counter">No items!</p>
					<ul class="list-group">
						<li class="list-group-item" 
							:class="{ 'completed' : task.completed, 'editing' : task == editedTask }" 
							v-for="task in list" 
						>
	
							<span class="controls">
								<input class="task-toggle-completed" type="checkbox" v-model="task.completed">
								<button class="task-remove" @click="deleteTask( task )"
								>X</button>
							</span>
	
							<label class="task-label" @click="startEdit(task)">{{ task.title }}</label>
	
							<input class="edit" type="text"
								v-model="task.text"
								v-task-focus="task == editedTask"
								@blur="completeEdit(task)"
								@keyup.enter="completeEdit(task)"
								@keyup.esc="cancelEdit(task)"
							>
						</li>
					</ul>

				</div>
	
				<p v-else class="prompt">No media added yet</p>
	
				<pre>{{ $data | json }}</pre>
			</template>
			
<!--			<h2>Vuewiki</h2>
			<div id="vuewiki">
				<div class="media">
					<div class="media__image"></div>
					<div class="media__text"></div>
				</div>
			</div>
			-->
			
		</main>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="scripts/vendors/vue.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/0.5.1/vue-resource.js"></script>

		<!--inject:js-->
		<script src="scripts/vendors/vendor.js"></script>
		<script src="scripts/main.js"></script>
		<!--endinject-->
	</body>
</html>
